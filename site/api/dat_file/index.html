
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Magnetometry Research in Python">
      
      
        <meta name="author" content="Rinehart Group">
      
      
      
        <link rel="prev" href="../magnetometry/">
      
      
        <link rel="next" href="../generic_file/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.1.21">
    
    
      
        <title>DatFile - MagnetoPy</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.eebd395e.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#magnetopy.data_files.DatFile" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MagnetoPy" class="md-header__button md-logo" aria-label="MagnetoPy" data-md-component="logo">
      
  <img src="../../assets/icons/72ppi/magpy_72ppi.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MagnetoPy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DatFile
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../examples/" class="md-tabs__link">
        Examples
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../magnetometry/" class="md-tabs__link md-tabs__link--active">
        API
      </a>
    </li>
  

  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../file_formatting/" class="md-tabs__link">
      File Formatting
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../standard_calibration_library/" class="md-tabs__link">
      Standard Calibration Library
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MagnetoPy" class="md-nav__button md-logo" aria-label="MagnetoPy" data-md-component="logo">
      
  <img src="../../assets/icons/72ppi/magpy_72ppi.png" alt="logo">

    </a>
    MagnetoPy
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/reading_dat_file/" class="md-nav__link">
        Reading a .dat File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/rwdat_file/" class="md-nav__link">
        Raw Data and the .rw.dat File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/mvsh/" class="md-nav__link">
        The MvsH Experiment Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/zfcfc/" class="md-nav__link">
        The ZFC and FC Experiment Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/magnetometry/" class="md-nav__link">
        Datasets in MagnetoPy: The Magnetometry Class
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          Magnetopy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Magnetopy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../magnetometry/" class="md-nav__link">
        Magnetometry
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
          Data Files
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3_1_2">
          <span class="md-nav__icon md-icon"></span>
          Data Files
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          DatFile
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        DatFile
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile" class="md-nav__link">
    DatFile
  </a>
  
    <nav class="md-nav" aria-label="DatFile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile.append_raw_data" class="md-nav__link">
    append_raw_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile.combine_dat_and_raw_dfs" class="md-nav__link">
    combine_dat_and_raw_dfs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile.plot_raw" class="md-nav__link">
    plot_raw()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile.plot_raw_residual" class="md-nav__link">
    plot_raw_residual()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile.as_dict" class="md-nav__link">
    as_dict()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.DcMeasurement" class="md-nav__link">
    DcMeasurement
  </a>
  
    <nav class="md-nav" aria-label="DcMeasurement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DcMeasurement--notes" class="md-nav__link">
    Notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DcMeasurement--references" class="md-nav__link">
    References
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.RawDcScan" class="md-nav__link">
    RawDcScan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.FitDcScan" class="md-nav__link">
    FitDcScan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.plot_raw" class="md-nav__link">
    plot_raw()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.plot_raw_residual" class="md-nav__link">
    plot_raw_residual()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../generic_file/" class="md-nav__link">
        GenericFile
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_1_3" id="__nav_3_1_3_label" tabindex="0">
          Experiments
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1_3">
          <span class="md-nav__icon md-icon"></span>
          Experiments
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dc_experiment/" class="md-nav__link">
        DcExperiment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mvsh/" class="md-nav__link">
        MvsH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zfcfc/" class="md-nav__link">
        ZFC, FC, ZFCFC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../experiments_utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1_4" >
      
      
      
        <label class="md-nav__link" for="__nav_3_1_4" id="__nav_3_1_4_label" tabindex="0">
          Analyses
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1_4">
          <span class="md-nav__icon md-icon"></span>
          Analyses
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../simple_mvsh_analysis/" class="md-nav__link">
        SimpleMvsHAnalysis
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_1_5" id="__nav_3_1_5_label" tabindex="0">
          Utils
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1_5">
          <span class="md-nav__icon md-icon"></span>
          Utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../parsing_utils/" class="md-nav__link">
        Parsing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plot_utils/" class="md-nav__link">
        Plotting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../file_formatting/" class="md-nav__link">
        File Formatting
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../standard_calibration_library/" class="md-nav__link">
        Standard Calibration Library
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile" class="md-nav__link">
    DatFile
  </a>
  
    <nav class="md-nav" aria-label="DatFile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile.append_raw_data" class="md-nav__link">
    append_raw_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile.combine_dat_and_raw_dfs" class="md-nav__link">
    combine_dat_and_raw_dfs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile.plot_raw" class="md-nav__link">
    plot_raw()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile.plot_raw_residual" class="md-nav__link">
    plot_raw_residual()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DatFile.as_dict" class="md-nav__link">
    as_dict()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.DcMeasurement" class="md-nav__link">
    DcMeasurement
  </a>
  
    <nav class="md-nav" aria-label="DcMeasurement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DcMeasurement--notes" class="md-nav__link">
    Notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magnetopy.data_files.DcMeasurement--references" class="md-nav__link">
    References
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.RawDcScan" class="md-nav__link">
    RawDcScan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.FitDcScan" class="md-nav__link">
    FitDcScan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.plot_raw" class="md-nav__link">
    plot_raw()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#magnetopy.data_files.plot_raw_residual" class="md-nav__link">
    plot_raw_residual()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>DatFile</h1>

<div class="doc doc-object doc-class">



<h2 id="magnetopy.data_files.DatFile" class="doc doc-heading">
          <code>magnetopy.data_files.DatFile</code>


</h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="magnetopy.data_files.GenericFile" href="../generic_file/#magnetopy.data_files.GenericFile">GenericFile</a></code></p>

  
      <p>A class for reading and storing data from a Quantum Design .dat file from a
MPMS3 magnetometer.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>file_path</code></td>
          <td>
                <code>str | <span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The path to the .dat file.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>parse_raw</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>By default <code>False</code>. If <code>True</code> and there is a corresponding .rw.dat file, the
raw data will be parsed and stored in the <code>raw_scan</code> column of the <code>data</code>
attribute.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>local_path</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The path to the .dat file.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>header</code></td>
          <td>
                <code>list[list[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The header of the .dat file.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The data from the .dat file.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>comments</code></td>
          <td>
                <code><span title="collections.OrderedDict">OrderedDict</span>[str, list[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Any comments found in the "Comment" column within the "[Data]" section of the
.dat file.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>length</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The length of the .dat file in bytes.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>sha512</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SHA512 hash of the .dat file.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>date_created</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The date and time the .dat file was created.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>experiments_in_file</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The experiments contained in the .dat file. Can include "mvsh", "zfc", "fc",
and/or "zfcfc".</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>magnetopy/data_files.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="k">class</span> <span class="nc">DatFile</span><span class="p">(</span><span class="n">GenericFile</span><span class="p">):</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A class for reading and storing data from a Quantum Design .dat file from a</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">    MPMS3 magnetometer.</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">    file_path : str | Path</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">        The path to the .dat file.</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">    parse_raw : bool, optional</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">        By default `False`. If `True` and there is a corresponding .rw.dat file, the</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">        raw data will be parsed and stored in the `raw_scan` column of the `data`</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">        attribute.</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">    Attributes</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">    local_path : Path</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">        The path to the .dat file.</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">    header : list[list[str]]</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">        The header of the .dat file.</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">    data : pd.DataFrame</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">        The data from the .dat file.</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">    comments : OrderedDict[str, list[str]]</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">        Any comments found in the &quot;Comment&quot; column within the &quot;[Data]&quot; section of the</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">        .dat file.</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">    length : int</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">        The length of the .dat file in bytes.</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">    sha512 : str</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">        The SHA512 hash of the .dat file.</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">    date_created : datetime</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">        The date and time the .dat file was created.</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">    experiments_in_file : list[str]</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">        The experiments contained in the .dat file. Can include &quot;mvsh&quot;, &quot;zfc&quot;, &quot;fc&quot;,</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="sd">        and/or &quot;zfcfc&quot;.</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span><span class="p">,</span> <span class="n">parse_raw</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;magnetometry&quot;</span><span class="p">)</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_header</span><span class="p">()</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_data</span><span class="p">()</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_comments</span><span class="p">()</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">date_created</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_date_created</span><span class="p">()</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">experiments_in_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_experiments_in_file</span><span class="p">()</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>        <span class="k">if</span> <span class="n">parse_raw</span><span class="p">:</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>            <span class="n">rw_dat_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_path</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">local_path</span><span class="o">.</span><span class="n">stem</span> <span class="o">+</span> <span class="s2">&quot;.rw.dat&quot;</span><span class="p">)</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>            <span class="k">if</span> <span class="n">rw_dat_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">append_raw_data</span><span class="p">(</span><span class="n">rw_dat_file</span><span class="p">)</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;DatFile(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">local_path</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">)&quot;</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;DatFile(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">local_path</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">)&quot;</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>    <span class="k">def</span> <span class="nf">_read_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>        <span class="n">header</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>            <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="n">delimiter</span><span class="p">)</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>                <span class="n">header</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>                <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;[Data]&quot;</span><span class="p">:</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>                    <span class="k">break</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>            <span class="c1"># some .dat files have a header that is delimited by commas</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>            <span class="n">header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_header</span><span class="p">(</span><span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>        <span class="k">return</span> <span class="n">header</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>    <span class="k">def</span> <span class="nf">_read_data</span><span class="p">(</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>        <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>        <span class="n">skip_rows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">local_path</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="n">sep</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="n">skip_rows</span><span class="p">)</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>        <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>            <span class="c1"># some .dat files have a header that is delimited by commas</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_data</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>        <span class="k">return</span> <span class="n">df</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>    <span class="k">def</span> <span class="nf">_get_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OrderedDict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>        <span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Comment&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>        <span class="n">comments</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">comments</span><span class="p">)</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">comments</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>            <span class="n">comments</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">comment</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">comment</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>        <span class="k">return</span> <span class="n">comments</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>    <span class="k">def</span> <span class="nf">_get_date_created</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">:</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>            <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;FILEOPENTIME&quot;</span><span class="p">:</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>                <span class="n">day</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>                <span class="n">hour</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>                <span class="k">break</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>        <span class="n">hour24</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">hour</span><span class="p">,</span> <span class="s2">&quot;%I:%M %p&quot;</span><span class="p">)</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>        <span class="n">day</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">day</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)]</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>        <span class="k">return</span> <span class="n">datetime</span><span class="p">(</span><span class="n">day</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">day</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">day</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">hour24</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="n">hour24</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>    <span class="k">def</span> <span class="nf">_get_experiments_in_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>        <span class="n">experiments</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="p">:</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>            <span class="k">for</span> <span class="n">comments</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>                <span class="k">for</span> <span class="n">comment</span> <span class="ow">in</span> <span class="n">comments</span><span class="p">:</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>                    <span class="k">if</span> <span class="n">comment</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;mvsh&quot;</span><span class="p">,</span> <span class="s2">&quot;zfc&quot;</span><span class="p">,</span> <span class="s2">&quot;fc&quot;</span><span class="p">,</span> <span class="s2">&quot;zfcfc&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>                        <span class="n">experiments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>        <span class="k">elif</span> <span class="p">(</span><span class="n">filename</span> <span class="o">:=</span> <span class="n">filename_label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">local_path</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span> <span class="o">!=</span> <span class="s2">&quot;unknown&quot;</span><span class="p">:</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>            <span class="n">experiments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Magnetic Field (Oe)&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>                <span class="n">experiments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;zfcfc&quot;</span><span class="p">)</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>                <span class="n">experiments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;mvsh&quot;</span><span class="p">)</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>        <span class="k">return</span> <span class="n">experiments</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>    <span class="k">def</span> <span class="nf">append_raw_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rw_dat_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a column &quot;raw_scan&quot; to the `data` attribute containing the raw data</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">        from the .rw.dat file.</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="sd">        rw_dat_file : str | Path</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><span class="sd">            The path to the .rw.dat file.</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>        <span class="n">raw_scans</span> <span class="o">=</span> <span class="n">create_raw_scans</span><span class="p">(</span><span class="n">rw_dat_file</span><span class="p">)</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">combine_dat_and_raw_dfs</span><span class="p">(</span><span class="n">raw_scans</span><span class="p">)</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>    <span class="k">def</span> <span class="nf">combine_dat_and_raw_dfs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DcMeasurement</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Data from the .rw.dat file is converted to a list of DcMeasurement objects</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">        which must be integrated with the `DataFrame` stored in the `data` attribute.</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">        This is not completely straightforward in cases where there are comments in</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">        the .dat file. This method takes the list of DcMeasurement objects and</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">        integrates them with the `DataFrame` stored in the `data` attribute.</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">        raw : list[DcMeasurement]</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">            A list of DcMeasurement objects created from the .rw.dat file.</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">raw</span><span class="p">):</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>            <span class="c1"># there are no comments in the .dat file</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;raw_scan&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>            <span class="c1"># we need to skip rows that have comments</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>            <span class="n">has_comment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Comment&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>            <span class="n">new_raw</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>            <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)):</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>                <span class="k">if</span> <span class="n">has_comment</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>                    <span class="n">new_raw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>                    <span class="n">new_raw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>                    <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;raw_scan&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_raw</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>    <span class="k">def</span> <span class="nf">plot_raw</span><span class="p">(</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>        <span class="n">data_slice</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>        <span class="n">scan</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>            <span class="s2">&quot;up&quot;</span><span class="p">,</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>            <span class="s2">&quot;up_raw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>            <span class="s2">&quot;down&quot;</span><span class="p">,</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>            <span class="s2">&quot;down_raw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>            <span class="s2">&quot;fit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>        <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>        <span class="n">center</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>            <span class="s2">&quot;free&quot;</span><span class="p">,</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>            <span class="s2">&quot;fixed&quot;</span><span class="p">,</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>        <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;free&quot;</span><span class="p">,</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>        <span class="n">colors</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">),</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>        <span class="n">label</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="p">]:</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;If the `data` attribute contains raw data, this method will plot it.</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">        data_slice : tuple[int, int] | None, optional</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><span class="sd">            The slice of data to plot (start, stop). `None` by default. If `None`, all</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a><span class="sd">            data will be plotted.</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a><span class="sd">        scan : Literal[&quot;up&quot;, &quot;up_raw&quot;, &quot;down&quot;, &quot;down_raw&quot;, &quot;fit&quot;], optional</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">            Which data to plot. `&quot;up&quot;` and `&quot;down&quot;` will plot the processed directional</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a><span class="sd">            scans (which have been adjusted for drift and shifted to center the waveform</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">            around 0, but have not been fit), `&quot;up_raw&quot;` and `&quot;down_raw&quot;` will plot the raw</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">            voltages as the come straight off the SQUID, and `&quot;fit&quot;` will plot the</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">            fit data (which is the result of fitting the up and down scans). `&quot;up&quot;` by</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a><span class="sd">            default.</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="sd">        center : Literal[&quot;free&quot;, &quot;fixed&quot;], optional</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a><span class="sd">            Only used if `scan` is `&quot;fit&quot;`; determines whether to plot the &quot;Free C</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="sd">            Fitted&quot; or &quot;Fixed C Fitted&quot; data. `&quot;free&quot;` by default.</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a><span class="sd">        colors : tuple[str, str], optional</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a><span class="sd">            The (start, end) colors for the color gradient. `&quot;purple&quot;` and `&quot;orange&quot;` by</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><span class="sd">            default.</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a><span class="sd">        label : bool, optional</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a><span class="sd">            Default `True`. Whether to put labels on the plot for the initial and final</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a><span class="sd">            scans.</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="sd">        title : str, optional</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="sd">            The title of the plot. `&quot;&quot;` by default.</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><span class="sd">        -------</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a><span class="sd">        tuple[plt.Figure, plt.Axes]</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a><span class="sd">            The figure and axes objects created by `plot_raw`.</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a><span class="sd">        Raises</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a><span class="sd">        ------</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a><span class="sd">        NoRawDataError</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>        <span class="k">return</span> <span class="n">plot_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">data_slice</span><span class="p">,</span> <span class="n">scan</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>    <span class="k">def</span> <span class="nf">plot_raw_residual</span><span class="p">(</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>        <span class="n">data_slice</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>        <span class="n">scan</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>        <span class="n">center</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;free&quot;</span><span class="p">,</span> <span class="s2">&quot;fixed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;free&quot;</span><span class="p">,</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="n">colors</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>        <span class="n">label</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="p">]:</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;If the `data` attribute contains raw data, this method will plot the</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">        residual between the raw data and the fit data.</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="sd">        data_slice : tuple[int, int] | None, optional</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">            The slice of data to plot (start, stop). `None` by default. If `None`, all</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a><span class="sd">            data will be plotted.</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">        scan : Literal[&quot;up&quot;, &quot;down&quot;], optional</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">            Which data to use in the residual calculation. `&quot;up&quot;` and `&quot;down&quot;` will use the</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="sd">            processed directional scans (which have been adjusted for drift and shifted to</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">            center the waveform around 0, but have not been fit). `&quot;up&quot;` by default.</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">        center : Literal[&quot;free&quot;, &quot;fixed&quot;], optional</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="sd">            Only used if `scan` is `&quot;fit&quot;`; determines whether to plot the &quot;Free C</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">            Fitted&quot; or &quot;Fixed C Fitted&quot; data. `&quot;free&quot;` by default.</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="sd">        colors : tuple[str, str], optional</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><span class="sd">            The (start, end) colors for the color gradient. `&quot;purple&quot;` and `&quot;orange&quot;` by</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">            default.</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">        label : bool, optional</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">            Default `True`. Whether to put labels on the plot for the initial and final</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">            scans.</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">        title : str, optional</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">            The title of the plot. `&quot;&quot;` by default.</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a><span class="sd">        -------</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a><span class="sd">        tuple[plt.Figure, plt.Axes]</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a><span class="sd">            The figure and axes objects created by `plot_raw_residual`.</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a><span class="sd">        Raises</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="sd">        ------</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="sd">        NoRawDataError</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>        <span class="k">return</span> <span class="n">plot_raw_residual</span><span class="p">(</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">data_slice</span><span class="p">,</span> <span class="n">scan</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">title</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>        <span class="p">)</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>    <span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Serializes the DatFile object to a dictionary.</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">        -------</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">        dict[str, Any]</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">            Contains the following keys: local_path, length, date_created, sha512,</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">            experiments_in_file.</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>        <span class="n">output</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">as_dict</span><span class="p">()</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>        <span class="n">output</span><span class="p">[</span><span class="s2">&quot;experiments_in_file&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">experiments_in_file</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>        <span class="k">return</span> <span class="n">output</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="magnetopy.data_files.DatFile.append_raw_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">append_raw_data</span><span class="p">(</span><span class="n">rw_dat_file</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Adds a column "raw_scan" to the <code>data</code> attribute containing the raw data
from the .rw.dat file.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>rw_dat_file</code></td>
          <td>
                <code>str | <span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The path to the .rw.dat file.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>magnetopy/data_files.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-199" name="__codelineno-0-199"></a><span class="k">def</span> <span class="nf">append_raw_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rw_dat_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a column &quot;raw_scan&quot; to the `data` attribute containing the raw data</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">    from the .rw.dat file.</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="sd">    rw_dat_file : str | Path</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><span class="sd">        The path to the .rw.dat file.</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>    <span class="n">raw_scans</span> <span class="o">=</span> <span class="n">create_raw_scans</span><span class="p">(</span><span class="n">rw_dat_file</span><span class="p">)</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">combine_dat_and_raw_dfs</span><span class="p">(</span><span class="n">raw_scans</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="magnetopy.data_files.DatFile.combine_dat_and_raw_dfs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">combine_dat_and_raw_dfs</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Data from the .rw.dat file is converted to a list of DcMeasurement objects
which must be integrated with the <code>DataFrame</code> stored in the <code>data</code> attribute.
This is not completely straightforward in cases where there are comments in
the .dat file. This method takes the list of DcMeasurement objects and
integrates them with the <code>DataFrame</code> stored in the <code>data</code> attribute.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>raw</code></td>
          <td>
                <code>list[<a class="autorefs autorefs-internal" title="magnetopy.data_files.DcMeasurement" href="#magnetopy.data_files.DcMeasurement">DcMeasurement</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of DcMeasurement objects created from the .rw.dat file.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>magnetopy/data_files.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="k">def</span> <span class="nf">combine_dat_and_raw_dfs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DcMeasurement</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Data from the .rw.dat file is converted to a list of DcMeasurement objects</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">    which must be integrated with the `DataFrame` stored in the `data` attribute.</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">    This is not completely straightforward in cases where there are comments in</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">    the .dat file. This method takes the list of DcMeasurement objects and</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">    integrates them with the `DataFrame` stored in the `data` attribute.</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">    raw : list[DcMeasurement]</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">        A list of DcMeasurement objects created from the .rw.dat file.</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">raw</span><span class="p">):</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>        <span class="c1"># there are no comments in the .dat file</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;raw_scan&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>        <span class="c1"># we need to skip rows that have comments</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>        <span class="n">has_comment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Comment&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span class="n">new_raw</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>        <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)):</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>            <span class="k">if</span> <span class="n">has_comment</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>                <span class="n">new_raw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>                <span class="n">new_raw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>                <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;raw_scan&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_raw</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="magnetopy.data_files.DatFile.plot_raw" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plot_raw</span><span class="p">(</span><span class="n">data_slice</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scan</span><span class="o">=</span><span class="s1">&#39;up&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="s1">&#39;free&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>If the <code>data</code> attribute contains raw data, this method will plot it.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data_slice</code></td>
          <td>
                <code>tuple[int, int] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The slice of data to plot (start, stop). <code>None</code> by default. If <code>None</code>, all
data will be plotted.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>scan</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;up&#39;, &#39;up_raw&#39;, &#39;down&#39;, &#39;down_raw&#39;, &#39;fit&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Which data to plot. <code>"up"</code> and <code>"down"</code> will plot the processed directional
scans (which have been adjusted for drift and shifted to center the waveform
around 0, but have not been fit), <code>"up_raw"</code> and <code>"down_raw"</code> will plot the raw
voltages as the come straight off the SQUID, and <code>"fit"</code> will plot the
fit data (which is the result of fitting the up and down scans). <code>"up"</code> by
default.</p>
            </div>
          </td>
          <td>
                <code>&#39;up&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>center</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;free&#39;, &#39;fixed&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Only used if <code>scan</code> is <code>"fit"</code>; determines whether to plot the "Free C
Fitted" or "Fixed C Fitted" data. <code>"free"</code> by default.</p>
            </div>
          </td>
          <td>
                <code>&#39;free&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>colors</code></td>
          <td>
                <code>tuple[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The (start, end) colors for the color gradient. <code>"purple"</code> and <code>"orange"</code> by
default.</p>
            </div>
          </td>
          <td>
                <code>(&#39;purple&#39;, &#39;orange&#39;)</code>
          </td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Default <code>True</code>. Whether to put labels on the plot for the initial and final
scans.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The title of the plot. <code>""</code> by default.</p>
            </div>
          </td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[<span title="matplotlib">plt</span>.<span title="matplotlib.Figure">Figure</span>, <span title="matplotlib">plt</span>.<span title="matplotlib.Axes">Axes</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The figure and axes objects created by <code>plot_raw</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="magnetopy.data_files.NoRawDataError">NoRawDataError</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>magnetopy/data_files.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-240" name="__codelineno-0-240"></a><span class="k">def</span> <span class="nf">plot_raw</span><span class="p">(</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>    <span class="n">data_slice</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>    <span class="n">scan</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>        <span class="s2">&quot;up&quot;</span><span class="p">,</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>        <span class="s2">&quot;up_raw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>        <span class="s2">&quot;down&quot;</span><span class="p">,</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>        <span class="s2">&quot;down_raw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>        <span class="s2">&quot;fit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>    <span class="n">center</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>        <span class="s2">&quot;free&quot;</span><span class="p">,</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>        <span class="s2">&quot;fixed&quot;</span><span class="p">,</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;free&quot;</span><span class="p">,</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>    <span class="n">colors</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">),</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>    <span class="n">label</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="p">]:</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;If the `data` attribute contains raw data, this method will plot it.</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">    data_slice : tuple[int, int] | None, optional</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><span class="sd">        The slice of data to plot (start, stop). `None` by default. If `None`, all</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a><span class="sd">        data will be plotted.</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a><span class="sd">    scan : Literal[&quot;up&quot;, &quot;up_raw&quot;, &quot;down&quot;, &quot;down_raw&quot;, &quot;fit&quot;], optional</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">        Which data to plot. `&quot;up&quot;` and `&quot;down&quot;` will plot the processed directional</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a><span class="sd">        scans (which have been adjusted for drift and shifted to center the waveform</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">        around 0, but have not been fit), `&quot;up_raw&quot;` and `&quot;down_raw&quot;` will plot the raw</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">        voltages as the come straight off the SQUID, and `&quot;fit&quot;` will plot the</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">        fit data (which is the result of fitting the up and down scans). `&quot;up&quot;` by</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a><span class="sd">        default.</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="sd">    center : Literal[&quot;free&quot;, &quot;fixed&quot;], optional</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a><span class="sd">        Only used if `scan` is `&quot;fit&quot;`; determines whether to plot the &quot;Free C</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="sd">        Fitted&quot; or &quot;Fixed C Fitted&quot; data. `&quot;free&quot;` by default.</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a><span class="sd">    colors : tuple[str, str], optional</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a><span class="sd">        The (start, end) colors for the color gradient. `&quot;purple&quot;` and `&quot;orange&quot;` by</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><span class="sd">        default.</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a><span class="sd">    label : bool, optional</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a><span class="sd">        Default `True`. Whether to put labels on the plot for the initial and final</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a><span class="sd">        scans.</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="sd">    title : str, optional</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="sd">        The title of the plot. `&quot;&quot;` by default.</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><span class="sd">    -------</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a><span class="sd">    tuple[plt.Figure, plt.Axes]</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a><span class="sd">        The figure and axes objects created by `plot_raw`.</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a><span class="sd">    Raises</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a><span class="sd">    ------</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a><span class="sd">    NoRawDataError</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>    <span class="k">return</span> <span class="n">plot_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">data_slice</span><span class="p">,</span> <span class="n">scan</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="magnetopy.data_files.DatFile.plot_raw_residual" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plot_raw_residual</span><span class="p">(</span><span class="n">data_slice</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scan</span><span class="o">=</span><span class="s1">&#39;up&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="s1">&#39;free&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>If the <code>data</code> attribute contains raw data, this method will plot the
residual between the raw data and the fit data.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data_slice</code></td>
          <td>
                <code>tuple[int, int] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The slice of data to plot (start, stop). <code>None</code> by default. If <code>None</code>, all
data will be plotted.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>scan</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;up&#39;, &#39;down&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Which data to use in the residual calculation. <code>"up"</code> and <code>"down"</code> will use the
processed directional scans (which have been adjusted for drift and shifted to
center the waveform around 0, but have not been fit). <code>"up"</code> by default.</p>
            </div>
          </td>
          <td>
                <code>&#39;up&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>center</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;free&#39;, &#39;fixed&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Only used if <code>scan</code> is <code>"fit"</code>; determines whether to plot the "Free C
Fitted" or "Fixed C Fitted" data. <code>"free"</code> by default.</p>
            </div>
          </td>
          <td>
                <code>&#39;free&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>colors</code></td>
          <td>
                <code>tuple[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The (start, end) colors for the color gradient. <code>"purple"</code> and <code>"orange"</code> by
default.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Default <code>True</code>. Whether to put labels on the plot for the initial and final
scans.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The title of the plot. <code>""</code> by default.</p>
            </div>
          </td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[<span title="matplotlib">plt</span>.<span title="matplotlib.Figure">Figure</span>, <span title="matplotlib">plt</span>.<span title="matplotlib.Axes">Axes</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The figure and axes objects created by <code>plot_raw_residual</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="magnetopy.data_files.NoRawDataError">NoRawDataError</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>magnetopy/data_files.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-295" name="__codelineno-0-295"></a><span class="k">def</span> <span class="nf">plot_raw_residual</span><span class="p">(</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>    <span class="n">data_slice</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>    <span class="n">scan</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span class="n">center</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;free&quot;</span><span class="p">,</span> <span class="s2">&quot;fixed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;free&quot;</span><span class="p">,</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>    <span class="n">colors</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>    <span class="n">label</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="p">]:</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;If the `data` attribute contains raw data, this method will plot the</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">    residual between the raw data and the fit data.</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="sd">    data_slice : tuple[int, int] | None, optional</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">        The slice of data to plot (start, stop). `None` by default. If `None`, all</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a><span class="sd">        data will be plotted.</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">    scan : Literal[&quot;up&quot;, &quot;down&quot;], optional</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">        Which data to use in the residual calculation. `&quot;up&quot;` and `&quot;down&quot;` will use the</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="sd">        processed directional scans (which have been adjusted for drift and shifted to</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">        center the waveform around 0, but have not been fit). `&quot;up&quot;` by default.</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">    center : Literal[&quot;free&quot;, &quot;fixed&quot;], optional</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="sd">        Only used if `scan` is `&quot;fit&quot;`; determines whether to plot the &quot;Free C</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">        Fitted&quot; or &quot;Fixed C Fitted&quot; data. `&quot;free&quot;` by default.</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="sd">    colors : tuple[str, str], optional</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><span class="sd">        The (start, end) colors for the color gradient. `&quot;purple&quot;` and `&quot;orange&quot;` by</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">        default.</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">    label : bool, optional</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">        Default `True`. Whether to put labels on the plot for the initial and final</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">        scans.</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">    title : str, optional</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">        The title of the plot. `&quot;&quot;` by default.</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a><span class="sd">    -------</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a><span class="sd">    tuple[plt.Figure, plt.Axes]</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a><span class="sd">        The figure and axes objects created by `plot_raw_residual`.</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a><span class="sd">    Raises</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="sd">    ------</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="sd">    NoRawDataError</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>    <span class="k">return</span> <span class="n">plot_raw_residual</span><span class="p">(</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">data_slice</span><span class="p">,</span> <span class="n">scan</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">title</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="magnetopy.data_files.DatFile.as_dict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_dict</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Serializes the DatFile object to a dictionary.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Contains the following keys: local_path, length, date_created, sha512,
experiments_in_file.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>magnetopy/data_files.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Serializes the DatFile object to a dictionary.</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">    -------</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">    dict[str, Any]</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">        Contains the following keys: local_path, length, date_created, sha512,</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">        experiments_in_file.</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>    <span class="n">output</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">as_dict</span><span class="p">()</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>    <span class="n">output</span><span class="p">[</span><span class="s2">&quot;experiments_in_file&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">experiments_in_file</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>    <span class="k">return</span> <span class="n">output</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="magnetopy.data_files.DcMeasurement" class="doc doc-heading">
          <code>magnetopy.data_files.DcMeasurement</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>The Quantum Design software fits the Processed Voltage data from the up and down
scans and uses the fit values with system-specific calibration factors to convert
the voltages to magnetic moment. This class stores both the raw and fit
data from a single DC measurement.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>up_header</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.Series">Series</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The header information from the .rw.dat file for the up scan.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>up_scan</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The raw scan data from the .rw.dat file for the up scan.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>down_header</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.Series">Series</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The header information from the .rw.dat file for the down scan.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>down_scan</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The raw scan data from the .rw.dat file for the down scan.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>fit_scan</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The fit scan data from the .rw.dat file.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>up</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="magnetopy.data_files.RawDcScan" href="#magnetopy.data_files.RawDcScan">RawDcScan</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The information about and data from the up scan.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>down</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="magnetopy.data_files.RawDcScan" href="#magnetopy.data_files.RawDcScan">RawDcScan</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The information about and data from the down scan.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>fit_scan</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="magnetopy.data_files.FitDcScan" href="#magnetopy.data_files.FitDcScan">FitDcScan</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The fit scan data determined by fitting the up and down scans.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"
  integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs"
  crossorigin="anonymous" />

<style type="text/css">
    .katex img {
      object-fit: fill;
      padding: unset;
      display: block;
      position: absolute;
      width: 100%;
      height: inherit;
    }
</style>
<h4 id="magnetopy.data_files.DcMeasurement--notes">Notes</h4>
<p>Information on the structure of a .rw.dat file can be found in the Quantum Design
app note[1].</p>
<p>The fit scan is determined by fitting the up and down scans to the following
equation[1]:</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mi>S</mi><mo>+</mo><mi>A</mi><mrow><mo fence="true">{</mo><mn>2</mn><msup><mrow><mo fence="true">[</mo><msup><mi>R</mi><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>z</mi><mo>−</mo><mi>C</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo fence="true">]</mo></mrow><mrow><mo>−</mo><mfrac><mn>3</mn><mn>2</mn></mfrac></mrow></msup><mo>−</mo><mo stretchy="false">[</mo><msup><mi>R</mi><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>L</mi><mo>+</mo><mi>z</mi><mo>−</mo><mi>C</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msup><mo stretchy="false">]</mo><mrow><mo>−</mo><mfrac><mn>3</mn><mn>2</mn></mfrac></mrow></msup><mo>−</mo><mo stretchy="false">[</mo><msup><mi>R</mi><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mi>L</mi><mo>+</mo><mi>z</mi><mo>−</mo><mi>C</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msup><mo stretchy="false">]</mo><mrow><mo>−</mo><mfrac><mn>3</mn><mn>2</mn></mfrac></mrow></msup><mo fence="true">}</mo></mrow></mrow><annotation encoding="application/x-tex">
V(z) = S + A \left\{ 2 \left[ R^2 + (z - C)^2 \right]^{-\frac{3}{2}} -
[R^2 + (L + z - C)^2]^{-\frac{3}{2}} - [R^2 + (-L + z - C)^2]^{-\frac{3}{2}}
\right\}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.858em;vertical-align:-0.65em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">{</span></span><span class="mord">2</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.208em;"><span style="top:-3.617em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.004em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.004em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">}</span></span></span></span></span></span></span></p>
<p>where S is the offset voltage, A is the amplitude, R is the radius of the
gradiometer, L is half the length of the gradiometer, and C is the sample center
position.</p>
<h4 id="magnetopy.data_files.DcMeasurement--references">References</h4>
<p><a href="https://www.qdusa.com/siteDocs/appNotes/1500-022.pdf">MPMS3 Application Note 1500-022: MPMS3 .rw.dat file format</a></p>
<p><a href="https://qdusa.com/siteDocs/appNotes/1500-023.pdf">MPMS3 Application Note 1500-023: Background subtraction using the MPMS3</a></p>

            <details class="quote">
              <summary>Source code in <code>magnetopy/data_files.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-536" name="__codelineno-0-536"></a><span class="k">class</span> <span class="nc">DcMeasurement</span><span class="p">:</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a><span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a><span class="sd">    The Quantum Design software fits the Processed Voltage data from the up and down</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a><span class="sd">    scans and uses the fit values with system-specific calibration factors to convert</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a><span class="sd">    the voltages to magnetic moment. This class stores both the raw and fit</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a><span class="sd">    data from a single DC measurement.</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a><span class="sd">    up_header : pd.Series</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a><span class="sd">        The header information from the .rw.dat file for the up scan.</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a><span class="sd">    up_scan : pd.DataFrame</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a><span class="sd">        The raw scan data from the .rw.dat file for the up scan.</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a><span class="sd">    down_header : pd.Series</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a><span class="sd">        The header information from the .rw.dat file for the down scan.</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a><span class="sd">    down_scan : pd.DataFrame</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><span class="sd">        The raw scan data from the .rw.dat file for the down scan.</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a><span class="sd">    fit_scan : pd.DataFrame</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><span class="sd">        The fit scan data from the .rw.dat file.</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="sd">    Attributes</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><span class="sd">    up : RawDcScan</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><span class="sd">        The information about and data from the up scan.</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a><span class="sd">    down : RawDcScan</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a><span class="sd">        The information about and data from the down scan.</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a><span class="sd">    fit_scan : FitDcScan</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a><span class="sd">        The fit scan data determined by fitting the up and down scans.</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a><span class="sd">    Notes</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a><span class="sd">    --------</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a><span class="sd">    Information on the structure of a .rw.dat file can be found in the Quantum Design</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a><span class="sd">    app note[1].</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a><span class="sd">    The fit scan is determined by fitting the up and down scans to the following</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a><span class="sd">    equation[1]:</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a><span class="sd">    ```math</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a><span class="sd">    V(z) = S + A \left\{ 2 \left[ R^2 + (z - C)^2 \right]^{-\frac{3}{2}} -</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a><span class="sd">    [R^2 + (L + z - C)^2]^{-\frac{3}{2}} - [R^2 + (-L + z - C)^2]^{-\frac{3}{2}}</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a><span class="sd">    \right\}</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a><span class="sd">    ```</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a><span class="sd">    where S is the offset voltage, A is the amplitude, R is the radius of the</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a><span class="sd">    gradiometer, L is half the length of the gradiometer, and C is the sample center</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a><span class="sd">    position.</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a><span class="sd">    References</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a><span class="sd">    [MPMS3 Application Note 1500-022: MPMS3 .rw.dat file format](</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a><span class="sd">        https://www.qdusa.com/siteDocs/appNotes/1500-022.pdf</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a><span class="sd">    )</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a><span class="sd">    [MPMS3 Application Note 1500-023: Background subtraction using the MPMS3](</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a><span class="sd">        https://qdusa.com/siteDocs/appNotes/1500-023.pdf</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a><span class="sd">    )</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>        <span class="n">up_header</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>        <span class="n">up_scan</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>        <span class="n">down_header</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>        <span class="n">down_scan</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>        <span class="n">fit_scan</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">up</span> <span class="o">=</span> <span class="n">RawDcScan</span><span class="p">(</span><span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="n">up_header</span><span class="p">,</span> <span class="n">up_scan</span><span class="p">)</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">down</span> <span class="o">=</span> <span class="n">RawDcScan</span><span class="p">(</span><span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="n">down_header</span><span class="p">,</span> <span class="n">down_scan</span><span class="p">)</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">fit_scan</span> <span class="o">=</span> <span class="n">FitDcScan</span><span class="p">(</span><span class="n">fit_scan</span><span class="p">)</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;DcMeasurement(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">up</span><span class="o">.</span><span class="n">avg_field</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> Oe, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">up</span><span class="o">.</span><span class="n">avg_temp</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> K)&quot;</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;DcMeasurement(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">up</span><span class="o">.</span><span class="n">avg_field</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> Oe, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">up</span><span class="o">.</span><span class="n">avg_temp</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> K)&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="magnetopy.data_files.RawDcScan" class="doc doc-heading">
          <code>magnetopy.data_files.RawDcScan</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>A class for storing the header information from a single raw scan.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>direction</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;up&#39;, &#39;down&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The direction of the scan.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>header</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.Series">Series</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The header information from the .dat file. The information is initially stored
in the "Comment" column in a single row preceding the scan data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>text</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The original text from the "Comment" column.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>direction</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;up&#39;, &#39;down&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The direction of the scan.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>low_temp</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The lowest temperature recorded during the combined DC scan.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>high_temp</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The highest temperature recorded during the combined DC scan.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>avg_temp</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The average temperature recorded during the combined DC scan.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>low_field</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The lowest magnetic field (in Oe) recorded during the combined DC scan.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>high_field</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The highest magnetic field (in Oe) recorded during the combined DC scan.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>drift</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The amount of drift (in V/S) between the DOWN-&gt;UP and UP-&gt;DOWN scans.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>slope</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The linear slope (in V/mm) between the DOWN-&gt;UP and UP-&gt;DOWN scans.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>squid_range</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SQUID range [1, 10, 100, or 1000] used during the combined DC scan.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>given_center</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The center position (in mm) as set during the sample installation wizard.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>calculated_center</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The calculated center position (in mm) from the Free C Fitted data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>amp_fixed</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The amplitude (in V) of the Fixed C Fitted data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>amp_free</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The amplitude (in V) of the Free C Fitted data.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The raw scan data. Columns are: "Time Stamp (sec)", "Raw Position (mm)",
"Raw Voltage (V)", "Processed Voltage (V)". The Raw Voltage data from both
up and down scans are corrected for drift and shifted to center the waveform
around V=0, and the results of those corrections are stored in the
"Processed Voltage (V)" column.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>start_time</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The time stamp (in seconds) of the first data point in the scan.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>magnetopy/data_files.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-410" name="__codelineno-0-410"></a><span class="k">class</span> <span class="nc">RawDcScan</span><span class="p">:</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A class for storing the header information from a single raw scan.</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a><span class="sd">    direction : Literal[&quot;up&quot;, &quot;down&quot;]</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a><span class="sd">        The direction of the scan.</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a><span class="sd">    header : pd.Series</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a><span class="sd">        The header information from the .dat file. The information is initially stored</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a><span class="sd">        in the &quot;Comment&quot; column in a single row preceding the scan data.</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a><span class="sd">    Attributes</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a><span class="sd">    text : str</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a><span class="sd">        The original text from the &quot;Comment&quot; column.</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a><span class="sd">    direction : Literal[&quot;up&quot;, &quot;down&quot;]</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a><span class="sd">        The direction of the scan.</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a><span class="sd">    low_temp : float</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a><span class="sd">        The lowest temperature recorded during the combined DC scan.</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a><span class="sd">    high_temp : float</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a><span class="sd">        The highest temperature recorded during the combined DC scan.</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a><span class="sd">    avg_temp : float</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a><span class="sd">        The average temperature recorded during the combined DC scan.</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a><span class="sd">    low_field : float</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a><span class="sd">        The lowest magnetic field (in Oe) recorded during the combined DC scan.</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a><span class="sd">    high_field : float</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a><span class="sd">        The highest magnetic field (in Oe) recorded during the combined DC scan.</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a><span class="sd">    drift : float</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a><span class="sd">        The amount of drift (in V/S) between the DOWN-&gt;UP and UP-&gt;DOWN scans.</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a><span class="sd">    slope : float</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a><span class="sd">        The linear slope (in V/mm) between the DOWN-&gt;UP and UP-&gt;DOWN scans.</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a><span class="sd">    squid_range : float</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a><span class="sd">        The SQUID range [1, 10, 100, or 1000] used during the combined DC scan.</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a><span class="sd">    given_center : float</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a><span class="sd">        The center position (in mm) as set during the sample installation wizard.</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a><span class="sd">    calculated_center : float</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a><span class="sd">        The calculated center position (in mm) from the Free C Fitted data.</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a><span class="sd">    amp_fixed : float</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a><span class="sd">        The amplitude (in V) of the Fixed C Fitted data.</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a><span class="sd">    amp_free : float</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a><span class="sd">        The amplitude (in V) of the Free C Fitted data.</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a><span class="sd">    data : pd.DataFrame</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a><span class="sd">        The raw scan data. Columns are: &quot;Time Stamp (sec)&quot;, &quot;Raw Position (mm)&quot;,</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a><span class="sd">        &quot;Raw Voltage (V)&quot;, &quot;Processed Voltage (V)&quot;. The Raw Voltage data from both</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a><span class="sd">        up and down scans are corrected for drift and shifted to center the waveform</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a><span class="sd">        around V=0, and the results of those corrections are stored in the</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a><span class="sd">        &quot;Processed Voltage (V)&quot; column.</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a><span class="sd">    start_time : float</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a><span class="sd">        The time stamp (in seconds) of the first data point in the scan.</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">],</span> <span class="n">header</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">scan</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">header</span><span class="p">[</span><span class="s2">&quot;Comment&quot;</span><span class="p">]</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">direction</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">low_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;low temp = (\d+\.\d+) K&quot;</span><span class="p">)</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">high_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;high temp = (\d+\.\d+) K&quot;</span><span class="p">)</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">avg_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;avg. temp = (\d+\.\d+) K&quot;</span><span class="p">)</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">low_field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;low field = (-?\d+\.\d+) Oe&quot;</span><span class="p">)</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">high_field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;high field = (-?\d+\.\d+) Oe&quot;</span><span class="p">)</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">drift</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;drift = (-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?) V/s&quot;</span><span class="p">)</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">slope</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;slope = (-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?) V/mm&quot;</span><span class="p">)</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">squid_range</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;squid range = (\d+)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">given_center</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;given center = (\d+\.\d+) mm&quot;</span><span class="p">)</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">calculated_center</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;calculated center = (\d+\.\d+) mm&quot;</span><span class="p">)</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">amp_fixed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;amp fixed = (-?\d+\.\d+) V&quot;</span><span class="p">)</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">amp_free</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;amp free =(-?\d+\.\d+) V&quot;</span><span class="p">)</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">scan</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>            <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Comment&quot;</span><span class="p">,</span> <span class="s2">&quot;Fixed C Fitted (V)&quot;</span><span class="p">,</span> <span class="s2">&quot;Free C Fitted (V)&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>        <span class="p">)</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Time Stamp (sec)&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>    <span class="k">def</span> <span class="nf">_get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>    <span class="k">def</span> <span class="nf">avg_field</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">low_field</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">high_field</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;RawDcScan(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">avg_field</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> Oe, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">avg_temp</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> K)&quot;</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="si">}</span><span class="s2"> scan at </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">avg_field</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> Oe, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">avg_temp</span><span class="si">:</span><span class="s2">2f</span><span class="si">}</span><span class="s2"> K&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="magnetopy.data_files.FitDcScan" class="doc doc-heading">
          <code>magnetopy.data_files.FitDcScan</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>The FitDcScan class stores the simulated voltage data from fits to the
directional scans; one for the case in which the center position is allowed to
float (Free C Fitted) and one for the case in which the center position is fixed
(Fixed C Fitted) based on the initial centering of the sample.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>scan</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The fit scan data from the .rw.dat file.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The fit scan data from the .rw.dat file. Columns are: "Time Stamp (sec)",
"Raw Position (mm)", "Fixed C Fitted (V)", "Free C Fitted (V)".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>start_time</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The time stamp (in seconds) of the first data point in the scan.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>magnetopy/data_files.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-499" name="__codelineno-0-499"></a><span class="k">class</span> <span class="nc">FitDcScan</span><span class="p">:</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The FitDcScan class stores the simulated voltage data from fits to the</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a><span class="sd">    directional scans; one for the case in which the center position is allowed to</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a><span class="sd">    float (Free C Fitted) and one for the case in which the center position is fixed</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a><span class="sd">    (Fixed C Fitted) based on the initial centering of the sample.</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a><span class="sd">    scan : pd.DataFrame</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a><span class="sd">        The fit scan data from the .rw.dat file.</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a><span class="sd">    Attributes</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a><span class="sd">    data : pd.DataFrame</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a><span class="sd">        The fit scan data from the .rw.dat file. Columns are: &quot;Time Stamp (sec)&quot;,</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a><span class="sd">        &quot;Raw Position (mm)&quot;, &quot;Fixed C Fitted (V)&quot;, &quot;Free C Fitted (V)&quot;.</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a><span class="sd">    start_time : float</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a><span class="sd">        The time stamp (in seconds) of the first data point in the scan.</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scan</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">scan</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>            <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Comment&quot;</span><span class="p">,</span> <span class="s2">&quot;Raw Voltage (V)&quot;</span><span class="p">,</span> <span class="s2">&quot;Processed Voltage (V)&quot;</span><span class="p">],</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>            <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>        <span class="p">)</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Time Stamp (sec)&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FitDcScan(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="si">}</span><span class="s2"> sec)&quot;</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FitDcScan(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="si">}</span><span class="s2"> sec)&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="magnetopy.data_files.plot_raw" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magnetopy</span><span class="o">.</span><span class="n">data_files</span><span class="o">.</span><span class="n">plot_raw</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">data_slice</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scan</span><span class="o">=</span><span class="s1">&#39;up&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="s1">&#39;free&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">
  
      <p>Plot the raw voltage data found in the "raw_scan" column of a <code>DataFrame</code>, where
each row contains a <code>DcMeasurement</code> object.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The <code>DataFrame</code> containing the raw data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>data_slice</code></td>
          <td>
                <code>tuple[int, int] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The slice of data to plot (start, stop). <code>None</code> by default. If <code>None</code>, all
data will be plotted.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>scan</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;up&#39;, &#39;up_raw&#39;, &#39;down&#39;, &#39;down_raw&#39;, &#39;fit&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Which data to plot. <code>"up"</code> and <code>"down"</code> will plot the processed directional
scans (which have been adjusted for drift and shifted to center the waveform
around 0, but have not been fit), <code>"up_raw"</code> and <code>"down_raw"</code> will plot the raw
voltages as the come straight off the SQUID, and <code>"fit"</code> will plot the
fit data (which is the result of fitting the up and down scans). <code>"up"</code> by
default.</p>
            </div>
          </td>
          <td>
                <code>&#39;up&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>center</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;free&#39;, &#39;fixed&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Only used if <code>scan</code> is <code>"fit"</code>; determines whether to plot the "Free C
Fitted" or "Fixed C Fitted" data. <code>"free"</code> by default.</p>
            </div>
          </td>
          <td>
                <code>&#39;free&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>colors</code></td>
          <td>
                <code>tuple[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The (start, end) colors for the color gradient. <code>"purple"</code> and <code>"orange"</code> by
default.</p>
            </div>
          </td>
          <td>
                <code>(&#39;purple&#39;, &#39;orange&#39;)</code>
          </td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Default <code>True</code>. Whether to put labels on the plot for the initial and final
scans.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The title of the plot. <code>""</code> by default.</p>
            </div>
          </td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[<span title="matplotlib">plt</span>.<span title="matplotlib.Figure">Figure</span>, <span title="matplotlib">plt</span>.<span title="matplotlib.Axes">Axes</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The figure and axes objects created by <code>plot_raw</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>magnetopy/data_files.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span>
<span class="normal"><a href="#__codelineno-0-699">699</a></span>
<span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-651" name="__codelineno-0-651"></a><span class="k">def</span> <span class="nf">plot_raw</span><span class="p">(</span>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a>    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a>    <span class="n">data_slice</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a>    <span class="n">scan</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a>        <span class="s2">&quot;up&quot;</span><span class="p">,</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a>        <span class="s2">&quot;up_raw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a>        <span class="s2">&quot;down&quot;</span><span class="p">,</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a>        <span class="s2">&quot;down_raw&quot;</span><span class="p">,</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a>        <span class="s2">&quot;fit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a>    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a>    <span class="n">center</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a>        <span class="s2">&quot;free&quot;</span><span class="p">,</span>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>        <span class="s2">&quot;fixed&quot;</span><span class="p">,</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;free&quot;</span><span class="p">,</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a>    <span class="n">colors</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">),</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>    <span class="n">label</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a>    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="p">]:</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot the raw voltage data found in the &quot;raw_scan&quot; column of a `DataFrame`, where</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a><span class="sd">    each row contains a `DcMeasurement` object.</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a><span class="sd">    data : pd.DataFrame</span>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a><span class="sd">        The `DataFrame` containing the raw data.</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a><span class="sd">    data_slice : tuple[int, int] | None, optional</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a><span class="sd">        The slice of data to plot (start, stop). `None` by default. If `None`, all</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a><span class="sd">        data will be plotted.</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a><span class="sd">    scan : Literal[&quot;up&quot;, &quot;up_raw&quot;, &quot;down&quot;, &quot;down_raw&quot;, &quot;fit&quot;], optional</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a><span class="sd">        Which data to plot. `&quot;up&quot;` and `&quot;down&quot;` will plot the processed directional</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a><span class="sd">        scans (which have been adjusted for drift and shifted to center the waveform</span>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a><span class="sd">        around 0, but have not been fit), `&quot;up_raw&quot;` and `&quot;down_raw&quot;` will plot the raw</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a><span class="sd">        voltages as the come straight off the SQUID, and `&quot;fit&quot;` will plot the</span>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a><span class="sd">        fit data (which is the result of fitting the up and down scans). `&quot;up&quot;` by</span>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a><span class="sd">        default.</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a><span class="sd">    center : Literal[&quot;free&quot;, &quot;fixed&quot;], optional</span>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a><span class="sd">        Only used if `scan` is `&quot;fit&quot;`; determines whether to plot the &quot;Free C</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a><span class="sd">        Fitted&quot; or &quot;Fixed C Fitted&quot; data. `&quot;free&quot;` by default.</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a><span class="sd">    colors : tuple[str, str], optional</span>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a><span class="sd">        The (start, end) colors for the color gradient. `&quot;purple&quot;` and `&quot;orange&quot;` by</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a><span class="sd">        default.</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a><span class="sd">    label : bool, optional</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a><span class="sd">        Default `True`. Whether to put labels on the plot for the initial and final</span>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a><span class="sd">        scans.</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a><span class="sd">    title : str, optional</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a><span class="sd">        The title of the plot. `&quot;&quot;` by default.</span>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a><span class="sd">    -------</span>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a><span class="sd">    tuple[plt.Figure, plt.Axes]</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a><span class="sd">        The figure and axes objects created by `plot_raw`.</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">_prepare_data_for_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">data_slice</span><span class="p">)</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a>    <span class="n">start_label</span><span class="p">,</span> <span class="n">end_label</span> <span class="o">=</span> <span class="n">_get_voltage_scan_labels</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>    <span class="n">scan_objs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DcMeasurement</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;raw_scan&quot;</span><span class="p">]</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a>    <span class="n">scans_w_squid_range</span> <span class="o">=</span> <span class="n">_get_selected_scans</span><span class="p">(</span><span class="n">scan</span><span class="p">,</span> <span class="n">scan_objs</span><span class="p">)</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>    <span class="k">if</span> <span class="n">colors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a>        <span class="n">colors</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">)</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a>    <span class="n">colors</span> <span class="o">=</span> <span class="n">linear_color_gradient</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">len</span><span class="p">(</span><span class="n">scans_w_squid_range</span><span class="p">))</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">((</span><span class="n">scan_df</span><span class="p">,</span> <span class="n">squid_range</span><span class="p">),</span> <span class="n">color</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>        <span class="nb">zip</span><span class="p">(</span><span class="n">scans_w_squid_range</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>    <span class="p">):</span>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>        <span class="n">row_label</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>        <span class="k">if</span> <span class="n">label</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a>            <span class="n">row_label</span> <span class="o">=</span> <span class="n">start_label</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a>        <span class="k">elif</span> <span class="n">label</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">scans_w_squid_range</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a>            <span class="n">row_label</span> <span class="o">=</span> <span class="n">end_label</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">scan_df</span><span class="p">[</span><span class="s2">&quot;Raw Position (mm)&quot;</span><span class="p">]</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a>        <span class="k">if</span> <span class="n">scan</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">scan_df</span><span class="p">[</span><span class="s2">&quot;Processed Voltage (V)&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">squid_range</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a>        <span class="k">elif</span> <span class="n">scan</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;up_raw&quot;</span><span class="p">,</span> <span class="s2">&quot;down_raw&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">scan_df</span><span class="p">[</span><span class="s2">&quot;Raw Voltage (V)&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">squid_range</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a>            <span class="k">if</span> <span class="n">center</span> <span class="o">==</span> <span class="s2">&quot;free&quot;</span><span class="p">:</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a>                <span class="n">y</span> <span class="o">=</span> <span class="n">scan_df</span><span class="p">[</span><span class="s2">&quot;Free C Fitted (V)&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">squid_range</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a>                <span class="n">y</span> <span class="o">=</span> <span class="n">scan_df</span><span class="p">[</span><span class="s2">&quot;Fixed C Fitted (V)&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">squid_range</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a>        <span class="k">if</span> <span class="n">row_label</span><span class="p">:</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a>            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">row_label</span><span class="p">)</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a>            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a>    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Position (mm)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a>    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Scaled Voltage (V)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a>    <span class="k">if</span> <span class="n">label</span><span class="p">:</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>        <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a>    <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a>        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a>    <span class="n">force_aspect</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a>    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="magnetopy.data_files.plot_raw_residual" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magnetopy</span><span class="o">.</span><span class="n">data_files</span><span class="o">.</span><span class="n">plot_raw_residual</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">data_slice</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scan</span><span class="o">=</span><span class="s1">&#39;up&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="s1">&#39;free&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">
  
      <p>Plot the residual between the raw and fit voltage data found in the
"raw_scan" column of a <code>DataFrame</code>, where each row contains a <code>DcMeasurement</code>
object.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The <code>DataFrame</code> containing the raw data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>data_slice</code></td>
          <td>
                <code>tuple[int, int] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The slice of data to plot (start, stop). <code>None</code> by default. If <code>None</code>, all
data will be plotted.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>scan</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;up&#39;, &#39;down&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Which data to use in the residual calculation. <code>"up"</code> and <code>"down"</code> will use the
processed directional scans (which have been adjusted for drift and shifted to
center the waveform around 0, but have not been fit). <code>"up"</code> by default.</p>
            </div>
          </td>
          <td>
                <code>&#39;up&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>center</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;free&#39;, &#39;fixed&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Determines whether to use the "Free C Fitted" or "Fixed C Fitted" data for the
fit data. <code>"free"</code> by default.</p>
            </div>
          </td>
          <td>
                <code>&#39;free&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>colors</code></td>
          <td>
                <code>tuple[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The (start, end) colors for the color gradient. <code>"purple"</code> and <code>"orange"</code> by
default.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Default <code>True</code>. Whether to put labels on the plot for the initial and final
scans.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The title of the plot. <code>""</code> by default.</p>
            </div>
          </td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[<span title="matplotlib">plt</span>.<span title="matplotlib.Figure">Figure</span>, <span title="matplotlib">plt</span>.<span title="matplotlib.Axes">Axes</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The figure and axes objects created by <code>plot_raw</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>magnetopy/data_files.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span>
<span class="normal"><a href="#__codelineno-0-775">775</a></span>
<span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span>
<span class="normal"><a href="#__codelineno-0-784">784</a></span>
<span class="normal"><a href="#__codelineno-0-785">785</a></span>
<span class="normal"><a href="#__codelineno-0-786">786</a></span>
<span class="normal"><a href="#__codelineno-0-787">787</a></span>
<span class="normal"><a href="#__codelineno-0-788">788</a></span>
<span class="normal"><a href="#__codelineno-0-789">789</a></span>
<span class="normal"><a href="#__codelineno-0-790">790</a></span>
<span class="normal"><a href="#__codelineno-0-791">791</a></span>
<span class="normal"><a href="#__codelineno-0-792">792</a></span>
<span class="normal"><a href="#__codelineno-0-793">793</a></span>
<span class="normal"><a href="#__codelineno-0-794">794</a></span>
<span class="normal"><a href="#__codelineno-0-795">795</a></span>
<span class="normal"><a href="#__codelineno-0-796">796</a></span>
<span class="normal"><a href="#__codelineno-0-797">797</a></span>
<span class="normal"><a href="#__codelineno-0-798">798</a></span>
<span class="normal"><a href="#__codelineno-0-799">799</a></span>
<span class="normal"><a href="#__codelineno-0-800">800</a></span>
<span class="normal"><a href="#__codelineno-0-801">801</a></span>
<span class="normal"><a href="#__codelineno-0-802">802</a></span>
<span class="normal"><a href="#__codelineno-0-803">803</a></span>
<span class="normal"><a href="#__codelineno-0-804">804</a></span>
<span class="normal"><a href="#__codelineno-0-805">805</a></span>
<span class="normal"><a href="#__codelineno-0-806">806</a></span>
<span class="normal"><a href="#__codelineno-0-807">807</a></span>
<span class="normal"><a href="#__codelineno-0-808">808</a></span>
<span class="normal"><a href="#__codelineno-0-809">809</a></span>
<span class="normal"><a href="#__codelineno-0-810">810</a></span>
<span class="normal"><a href="#__codelineno-0-811">811</a></span>
<span class="normal"><a href="#__codelineno-0-812">812</a></span>
<span class="normal"><a href="#__codelineno-0-813">813</a></span>
<span class="normal"><a href="#__codelineno-0-814">814</a></span>
<span class="normal"><a href="#__codelineno-0-815">815</a></span>
<span class="normal"><a href="#__codelineno-0-816">816</a></span>
<span class="normal"><a href="#__codelineno-0-817">817</a></span>
<span class="normal"><a href="#__codelineno-0-818">818</a></span>
<span class="normal"><a href="#__codelineno-0-819">819</a></span>
<span class="normal"><a href="#__codelineno-0-820">820</a></span>
<span class="normal"><a href="#__codelineno-0-821">821</a></span>
<span class="normal"><a href="#__codelineno-0-822">822</a></span>
<span class="normal"><a href="#__codelineno-0-823">823</a></span>
<span class="normal"><a href="#__codelineno-0-824">824</a></span>
<span class="normal"><a href="#__codelineno-0-825">825</a></span>
<span class="normal"><a href="#__codelineno-0-826">826</a></span>
<span class="normal"><a href="#__codelineno-0-827">827</a></span>
<span class="normal"><a href="#__codelineno-0-828">828</a></span>
<span class="normal"><a href="#__codelineno-0-829">829</a></span>
<span class="normal"><a href="#__codelineno-0-830">830</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-748" name="__codelineno-0-748"></a><span class="k">def</span> <span class="nf">plot_raw_residual</span><span class="p">(</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>    <span class="n">data_slice</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a>    <span class="n">scan</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a>    <span class="n">center</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;free&quot;</span><span class="p">,</span> <span class="s2">&quot;fixed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;free&quot;</span><span class="p">,</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>    <span class="n">colors</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a>    <span class="n">label</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a>    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="p">]:</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot the residual between the raw and fit voltage data found in the</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a><span class="sd">    &quot;raw_scan&quot; column of a `DataFrame`, where each row contains a `DcMeasurement`</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a><span class="sd">    object.</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a><span class="sd">    data : pd.DataFrame</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a><span class="sd">        The `DataFrame` containing the raw data.</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a><span class="sd">    data_slice : tuple[int, int] | None, optional</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a><span class="sd">        The slice of data to plot (start, stop). `None` by default. If `None`, all</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a><span class="sd">        data will be plotted.</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a><span class="sd">    scan : Literal[&quot;up&quot;, &quot;down&quot;], optional</span>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a><span class="sd">        Which data to use in the residual calculation. `&quot;up&quot;` and `&quot;down&quot;` will use the</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a><span class="sd">        processed directional scans (which have been adjusted for drift and shifted to</span>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a><span class="sd">        center the waveform around 0, but have not been fit). `&quot;up&quot;` by default.</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a><span class="sd">    center : Literal[&quot;free&quot;, &quot;fixed&quot;], optional</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a><span class="sd">        Determines whether to use the &quot;Free C Fitted&quot; or &quot;Fixed C Fitted&quot; data for the</span>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a><span class="sd">        fit data. `&quot;free&quot;` by default.</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a><span class="sd">    colors : tuple[str, str], optional</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a><span class="sd">        The (start, end) colors for the color gradient. `&quot;purple&quot;` and `&quot;orange&quot;` by</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a><span class="sd">        default.</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a><span class="sd">    label : bool, optional</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a><span class="sd">        Default `True`. Whether to put labels on the plot for the initial and final</span>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a><span class="sd">        scans.</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a><span class="sd">    title : str, optional</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a><span class="sd">        The title of the plot. `&quot;&quot;` by default.</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a>
<a id="__codelineno-0-784" name="__codelineno-0-784"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-785" name="__codelineno-0-785"></a><span class="sd">    -------</span>
<a id="__codelineno-0-786" name="__codelineno-0-786"></a><span class="sd">    tuple[plt.Figure, plt.Axes]</span>
<a id="__codelineno-0-787" name="__codelineno-0-787"></a><span class="sd">        The figure and axes objects created by `plot_raw`.</span>
<a id="__codelineno-0-788" name="__codelineno-0-788"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-789" name="__codelineno-0-789"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">_prepare_data_for_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">data_slice</span><span class="p">)</span>
<a id="__codelineno-0-790" name="__codelineno-0-790"></a>    <span class="n">start_label</span><span class="p">,</span> <span class="n">end_label</span> <span class="o">=</span> <span class="n">_get_voltage_scan_labels</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a>    <span class="n">scan_objs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DcMeasurement</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;raw_scan&quot;</span><span class="p">]</span>
<a id="__codelineno-0-793" name="__codelineno-0-793"></a>    <span class="n">scans_w_squid_range</span> <span class="o">=</span> <span class="n">_get_selected_scans</span><span class="p">(</span><span class="n">scan</span><span class="p">,</span> <span class="n">scan_objs</span><span class="p">)</span>
<a id="__codelineno-0-794" name="__codelineno-0-794"></a>    <span class="n">fit_scans</span> <span class="o">=</span> <span class="p">[</span><span class="n">scan_obj</span><span class="o">.</span><span class="n">fit_scan</span><span class="o">.</span><span class="n">data</span> <span class="k">for</span> <span class="n">scan_obj</span> <span class="ow">in</span> <span class="n">scan_objs</span><span class="p">]</span>
<a id="__codelineno-0-795" name="__codelineno-0-795"></a>
<a id="__codelineno-0-796" name="__codelineno-0-796"></a>    <span class="k">if</span> <span class="n">colors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-797" name="__codelineno-0-797"></a>        <span class="n">colors</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">)</span>
<a id="__codelineno-0-798" name="__codelineno-0-798"></a>    <span class="n">colors</span> <span class="o">=</span> <span class="n">linear_color_gradient</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">len</span><span class="p">(</span><span class="n">scans_w_squid_range</span><span class="p">))</span>
<a id="__codelineno-0-799" name="__codelineno-0-799"></a>
<a id="__codelineno-0-800" name="__codelineno-0-800"></a>    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<a id="__codelineno-0-801" name="__codelineno-0-801"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">((</span><span class="n">scan_df</span><span class="p">,</span> <span class="n">squid_range</span><span class="p">),</span> <span class="n">fit_df</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
<a id="__codelineno-0-802" name="__codelineno-0-802"></a>        <span class="nb">zip</span><span class="p">(</span><span class="n">scans_w_squid_range</span><span class="p">,</span> <span class="n">fit_scans</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
<a id="__codelineno-0-803" name="__codelineno-0-803"></a>    <span class="p">):</span>
<a id="__codelineno-0-804" name="__codelineno-0-804"></a>        <span class="n">row_label</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-805" name="__codelineno-0-805"></a>        <span class="k">if</span> <span class="n">label</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-806" name="__codelineno-0-806"></a>            <span class="n">row_label</span> <span class="o">=</span> <span class="n">start_label</span>
<a id="__codelineno-0-807" name="__codelineno-0-807"></a>        <span class="k">elif</span> <span class="n">label</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">scans_w_squid_range</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-808" name="__codelineno-0-808"></a>            <span class="n">row_label</span> <span class="o">=</span> <span class="n">end_label</span>
<a id="__codelineno-0-809" name="__codelineno-0-809"></a>
<a id="__codelineno-0-810" name="__codelineno-0-810"></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">scan_df</span><span class="p">[</span><span class="s2">&quot;Raw Position (mm)&quot;</span><span class="p">]</span>
<a id="__codelineno-0-811" name="__codelineno-0-811"></a>        <span class="k">if</span> <span class="n">center</span> <span class="o">==</span> <span class="s2">&quot;free&quot;</span><span class="p">:</span>
<a id="__codelineno-0-812" name="__codelineno-0-812"></a>            <span class="n">y_fit</span> <span class="o">=</span> <span class="n">fit_df</span><span class="p">[</span><span class="s2">&quot;Free C Fitted (V)&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">squid_range</span>
<a id="__codelineno-0-813" name="__codelineno-0-813"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-814" name="__codelineno-0-814"></a>            <span class="n">y_fit</span> <span class="o">=</span> <span class="n">fit_df</span><span class="p">[</span><span class="s2">&quot;Fixed C Fitted (V)&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">squid_range</span>
<a id="__codelineno-0-815" name="__codelineno-0-815"></a>        <span class="n">y_raw</span> <span class="o">=</span> <span class="n">scan_df</span><span class="p">[</span><span class="s2">&quot;Processed Voltage (V)&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">squid_range</span>
<a id="__codelineno-0-816" name="__codelineno-0-816"></a>        <span class="n">y</span> <span class="o">=</span> <span class="n">y_raw</span> <span class="o">-</span> <span class="n">y_fit</span>
<a id="__codelineno-0-817" name="__codelineno-0-817"></a>
<a id="__codelineno-0-818" name="__codelineno-0-818"></a>        <span class="k">if</span> <span class="n">row_label</span><span class="p">:</span>
<a id="__codelineno-0-819" name="__codelineno-0-819"></a>            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">row_label</span><span class="p">)</span>
<a id="__codelineno-0-820" name="__codelineno-0-820"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-821" name="__codelineno-0-821"></a>            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
<a id="__codelineno-0-822" name="__codelineno-0-822"></a>
<a id="__codelineno-0-823" name="__codelineno-0-823"></a>    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Position (mm)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-824" name="__codelineno-0-824"></a>    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Scaled Voltage (V)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-825" name="__codelineno-0-825"></a>    <span class="k">if</span> <span class="n">label</span><span class="p">:</span>
<a id="__codelineno-0-826" name="__codelineno-0-826"></a>        <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-827" name="__codelineno-0-827"></a>    <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
<a id="__codelineno-0-828" name="__codelineno-0-828"></a>        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
<a id="__codelineno-0-829" name="__codelineno-0-829"></a>    <span class="n">force_aspect</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<a id="__codelineno-0-830" name="__codelineno-0-830"></a>    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.next_prev", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>